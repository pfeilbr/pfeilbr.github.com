<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0"
    xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>php on Brian Pfeil</title>
        <link>https://brianpfeil.com/tags/php/</link>
        <description>Recent content in php on Brian Pfeil</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <lastBuildDate>Mon, 13 Jul 2020 00:00:00 -0400</lastBuildDate><atom:link href="https://brianpfeil.com/tags/php/index.xml" rel="self" type="application/rss+xml" />
    <item>
<title>Bref PHP Lambda</title>
<link>https://brianpfeil.com/post/bref-php-lambda/</link>
<pubDate>Mon, 13 Jul 2020 00:00:00 -0400</pubDate>
      
      <guid>https://brianpfeil.com/post/bref-php-lambda/</guid>
<description>&lt;div class=&#34;alert alert-info small bg-info&#34; role=&#34;alert&#34;&gt;
&lt;span class=&#34;text-muted&#34;&gt;code for article&lt;/span&gt;&amp;nbsp;&lt;a href=&#34;https://github.com/pfeilbr/bref-php-lambda-playground&#34; target=&#34;_blank&#34;&gt;&lt;i class=&#34;fab fa-github fa-sm&#34;&gt;&lt;/i&gt;&amp;nbsp;pfeilbr/bref-php-lambda-playground&lt;/a&gt;
&lt;/div&gt;
&lt;p&gt;learn &lt;a href=&#34;https://bref.sh/&#34;&gt;bref&lt;/a&gt;, deploy and run serverless PHP applications&lt;/p&gt;
&lt;h2 id=&#34;prerequisites&#34;&gt;Prerequisites&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.php.net/&#34;&gt;PHP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.serverless.com/&#34;&gt;serverless framework&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;running&#34;&gt;Running&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# install&lt;/span&gt;
composer require bref/bref

&lt;span class=&#34;c1&#34;&gt;# init&lt;/span&gt;
vendor/bin/bref init

&lt;span class=&#34;c1&#34;&gt;# edit `index.php`&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# deploy&lt;/span&gt;
serverless deploy

&lt;span class=&#34;c1&#34;&gt;# test / invoke&lt;/span&gt;
serverless invoke -f &lt;span class=&#34;s2&#34;&gt;&amp;#34;function&amp;#34;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# test / invoke with event data&lt;/span&gt;
serverless invoke --function &lt;span class=&#34;s2&#34;&gt;&amp;#34;function&amp;#34;&lt;/span&gt; --data &lt;span class=&#34;s1&#34;&gt;&amp;#39;{&amp;#34;name&amp;#34;: &amp;#34;foo&amp;#34;}&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;resources&#34;&gt;Resources&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://bref.sh/docs/installation.html&#34;&gt;bref | Installation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
</item>
    
    <item>
<title>PHP Lambda Layer</title>
<link>https://brianpfeil.com/post/php-lambda-layer/</link>
<pubDate>Thu, 02 Jul 2020 00:00:00 -0400</pubDate>
      
      <guid>https://brianpfeil.com/post/php-lambda-layer/</guid>
<description>&lt;div class=&#34;alert alert-info small bg-info&#34; role=&#34;alert&#34;&gt;
&lt;span class=&#34;text-muted&#34;&gt;code for article&lt;/span&gt;&amp;nbsp;&lt;a href=&#34;https://github.com/pfeilbr/php-lambda-layer-playground&#34; target=&#34;_blank&#34;&gt;&lt;i class=&#34;fab fa-github fa-sm&#34;&gt;&lt;/i&gt;&amp;nbsp;pfeilbr/php-lambda-layer-playground&lt;/a&gt;
&lt;/div&gt;
&lt;p&gt;learn &lt;a href=&#34;https://github.com/stackery/php-lambda-layer&#34;&gt;stackery/php-lambda-layer&lt;/a&gt; for running PHP on lambda&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Prerequisites&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.php.net/&#34;&gt;php&lt;/a&gt; 7.x&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://getcomposer.org/&#34;&gt;composer&lt;/a&gt; installed globally (used by makefile)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Key Files&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;src/php/index.php&#34;&gt;src/php/index.php&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;src/php/php.ini&#34;&gt;src/php/php.ini&lt;/a&gt; - for enabled extensions&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;template.yaml&#34;&gt;template.yaml&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;packaged.yaml&#34;&gt;packaged.yaml&lt;/a&gt; - &lt;em&gt;generated via sam&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Session&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;see &lt;a href=&#34;Makefile&#34;&gt;Makefile&lt;/a&gt; for details and make changes to variables as necessary.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# deploy stack&lt;/span&gt;
make deploy

&lt;span class=&#34;c1&#34;&gt;# test api gateway endpoint URL&lt;/span&gt;
make &lt;span class=&#34;nb&#34;&gt;test&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# delete stack&lt;/span&gt;
make delete

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;resources&#34;&gt;Resources&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://aws.amazon.com/blogs/compute/introducing-the-new-serverless-lamp-stack/&#34;&gt;Introducing the new Serverless LAMP stack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://aws.amazon.com/blogs/compute/introducing-the-serverless-lamp-stack-part-2-relational-databases/&#34;&gt;Introducing the serverless LAMP stack â€“ part 2 relational databases&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/aws-samples/php-examples-for-aws-lambda&#34;&gt;aws-samples/php-examples-for-aws-lambda&lt;/a&gt; - github repo for article.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://aws.amazon.com/blogs/apn/aws-lambda-custom-runtime-for-php-a-practical-example/&#34;&gt;AWS Lambda Custom Runtime for PHP: A Practical Example&lt;/a&gt; - &lt;em&gt;older article, but covers low level details&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://aws.amazon.com/sdk-for-php/&#34;&gt;AWS SDK for PHP&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
</item>
    
  </channel>
</rss>